 
 <html lang="en">
  <head>
      <meta charset="UTF-8">
  
      <meta name="keywords" content="Delhi University Previous Year Question Papers, du pyqs, Delhi University pyq,B.Com, Economics (H) , B.A , Delhi University chemistry pyq, Delhi University physics pyq, Delhi University maths pyq , Delhi University political science pyq, Delhi University english pyq, Delhi University history pyq, Delhi University hindi pyq ">
      <meta name="description" content="Get latest Delhi University (DU) Previous Year Qesution Papers. Download DU PYQs for free, B.com, BA English, Economics, History, Hindi, Political Science and B.Sc Chemistry, Physics, Maths, Computer Science. ">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link  rel="stylesheet" href="style/form_logo_bar.css"><link  rel="stylesheet" href="style/form_logo_bar2.css"><link  rel="stylesheet" href="style/form_logo_bar3.css">
      <link  rel="stylesheet" href="style/common.css"><link  rel="stylesheet" href="style/common2.css"><link  rel="stylesheet" href="style/common3.css">
      <link  rel="stylesheet" href="style/common-pyq.css">    <link  rel="stylesheet" href="style/common-pyq2.css">    <link  rel="stylesheet" href="style/common-pyq3.css">
     
<style>
#logo-learndu{
  width: 60px;
  position: absolute;
  left: 10px;
top:10px
}
</style>

 <button id="loginBtn"></button>
<style>
  body{
    background-image: url('img/f42f42f.jpeg');
    background-repeat: no-repeat;
    background-size: cover;
    background-position: center;
    font-family: 'Nunito', sans-serif;
    
  }
  .human-icon-image-con{
    margin-top: 00px;
    display: flex;
    justify-content: center;
    align-items: center;


  }


  .human-icon-image-con img{
    width: 90%;
    max-width: 700px
  }

  @media (min-width:0px) and (max-width:600px)
{   .human-icon-image-con img{
  width: 100%;
  margin-top: 10px

}}
</style>


 <div class="human-icon-image-con">
<img src="img/r32f42f243f.jpeg" alt="">
 </div>

        <!-- ///////////////style for login//////////// -->
        <style>
            @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Mulish:ital,wght@0,200..1000;1,200..1000&family=Nunito:ital,wght@0,200..1000;1,200..1000&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Rubik:ital,wght@0,300..900;1,300..900&display=swap')
;
 
     
    
        
        .overlay {
      
          
          display: flex;
           justify-content: center;
           align-items: center;
       

        }
        
        .popup {
          margin-top: 30px;
            background-color: white;
            padding: .3em;

            position: relative;
            text-align: center;
    background-color: rgb(0, 0, 0);
            display: flex;

        width: 90%;
        max-width:400px;
        height: 600px;
        }
        @media (min-width:0px) and (max-width:600px)
{        .popup {
  margin-top: 20px;
  width: 85%;
  height: 500px;
}}
        
        .close-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            font-size: 1.7em;
            cursor: pointer;
        }


        /* both sign up and login */
        .form-content{
            border: 1px solid rgb(231, 231, 231);
            padding: 20px 10px;
            background-color: white;
   

        }
        .form-content h2 {
            margin-bottom: 1em;
            margin-top: -1px;
            font-size: 3rem;
            color: #000000;
            font-weight: 600;
        
        
        }      @media (min-width:0px) and (max-width:600px)
{                .form-content h2 {
  font-size: 2rem;
}}
        
        
        input {
            width: 90%;
        height: 40px;
            margin-bottom:1.5em;
          border: none;

        padding-left: 1em;
        font-size: 1.2rem;
        border-bottom: 3px solid black;
        
        }
            @media (min-width:0px) and (max-width:600px)
{                   input {
  height: 30px;     font-size: 1rem;
}}
        input:focus{
          outline: none;
        }
        
      
        .btn {
          width: 200px;
          font-size: 18px;
border-radius: 5px;
       transition: .1s linear;
       border: 2px solid orange;
  background-color: white;
  color: black;
   
            padding: 0.5em 1em;
            cursor: pointer;
    
        }

        @media (min-width:0px) and (max-width:600px)
{                   .btn {
  padding: 0.3em 0em;
  width: 170px;
}}
        
        .btn:hover {
  scale: 1.15;
  border: 2px solid orange;
  background-color:  orange;
  color:white;
        }
 
        p {
            margin-top: 1.5em;
        }
        
        p span {
            color: orange;
            cursor: pointer;
        }
        #forget_pass{
            color: #aeaeae;
            margin-top: -1em;
            font-size: .9em;
            
        }
        #forget_pass:hover{
        color: rgb(255, 80, 80);
            
        }
        .forgot-pass-container {
                  display: none;
                  /* display: flex; */
                  flex-direction: column;
                  background-color: white;
                  padding: 40px 20px;
              }

        @media (min-width:0px) and (max-width:600px)
{                 .forgot-pass-container {
  padding: 30px 15px;
}}
      
              .forgot-pass-container input[type="email"] {
                  width: 100%;
                  padding: 10px;
                  margin-top: 20px;
                  margin-bottom: 20px;
                  border-bottom: 3px solid #727272;
                  background-color: #ffffcc;
              }
      
              .forgot-pass-container input[type="email"]:focus {
                  outline: none;
              
              }
      
              .forgot-pass-container button {
                margin-top: 10px;
            width: 200px;
                  padding: 10px;
                  background-color: #ff5555;
                  border: none;
                  border-radius: 4px;
                  color: #efefef;
                  cursor: not-allowed;
                  font-size: 18px;
              }
              .forgot-pass-container button:focus{
                background-color: #ccc;
                color: black;
              }



              
              .forgot-pass-container .message {
                  color: green;
                  font-size: 14px;
              }
      
              .forgot-pass-container a {
                  color: #007bff;
                  text-decoration: none;
              }
      
              .forgot-pass-container a:hover {
                  text-decoration: underline;
              }

              #container-ac-created{
                display: none;
              }
              #container-ac-created #acc-success-img{
                width: 100px;
             
              }

              /* Google Sign-In button styling */
.g-signin2 {
  margin-top: 15px;
  cursor: pointer;
  align-items: center;
  display: inline-flex;
}

#logoutForm {
        display: none;
    }
        </style>
        
        
        <div id="popupOverlay" class="overlay">
    <div class="popup">
        <span class="close-btn" id="closeBtn"></span>
        <div id="loginForm" class="form-content">
            <h2>Login</h2>
            <input type="email" id="loginEmail" placeholder="Email ID">
            <input type="password" id="loginPassword" placeholder="Password">
            <p id="forget_pass">Forgot password?</p>
            <button class="btn" id="login_btn" type="submit"><i class="animation"></i>Login<i class="animation"></i></button>
            <div class="g-signin2" data-onsuccess="onSignIn"></div>

            <p>Do not have an account? <span id="showSignup">Sign up</span></p>
        </div>
        <div id="signupForm" class="form-content" style="display: none;">
            <h2>Sign Up</h2>
            <input type="text" id="signupName" placeholder="Full Name" required>
            <input type="email" id="signupEmail" placeholder="Email ID" required>
            <input type="text" id="signupNumber" placeholder="Phone Number" required>
            <input type="password" id="signupPassword" placeholder="Password" required>
            <input type="password" id="signupConfirmPassword" placeholder="Confirm Password">
            <button class="btn" id="sign_up_btn"><i class="animation"></i>Create Account<i class="animation"></i></button>
            <p>Already have an account? <span id="showLogin">Login</span></p>
        </div>

        <div id="forgotPassContainer" class="forgot-pass-container">
          <p>Enter the email address you signed up with below. An email will be sent containing a link to reset your password.</p>
          <form>
              <input type="email" id="forgotPasswordEmail" required placeholder="e.g john@gmail.com">
              <p id="forgotPasswordErrorMessage" style="color: red; display: none;"></p> <!-- Error message container -->
              <button type="submit">Send reset link</button>
          </form>
          <p id="forgotPasswordMessage" class="message" style="display: none;">Sent! <span id="showlogin-pass">Login</span></p>
      </div>
      



        <!-- //////////////////// -->
        <div id="container-ac-created" class="form-content" >
          <img id="acc-success-img" src="img/3d3223f.jpeg" alt="Success Image">
          <p>Your account has been successfully created.</p>
          <p><span id="loginFromSuccess">Login</span></p>
      </div>
      
        <div id="logoutForm" class="form-content" style="display: none;">
            <h2>Welcome, User!</h2>
            <button type="submit" class="btn" id="logout_btn"><i class="animation"></i>Logout<i class="animation"></i></button>
        </div>
   </div>
</div>

<script>

document.addEventListener('DOMContentLoaded', function() {

  
// let isLoggedIn = false; // Initially not logged in

// Function to toggle login/logout forms based on login status
// function toggleForms() {
//     const loginForm = document.getElementById('loginForm');
//     const signupForm = document.getElementById('signupForm');
//     const forgotPassContainer = document.getElementById('forgotPassContainer');
//     const containerAcCreated = document.getElementById('container-ac-created');
//     const logoutForm = document.getElementById('logoutForm');

//     if (isLoggedIn) {
//         loginForm.style.display = 'none';
//         signupForm.style.display = 'none';
//         forgotPassContainer.style.display = 'none';
//         containerAcCreated.style.display = 'none';
//         logoutForm.style.display = 'block';
//     } else {
//         loginForm.style.display = 'block';
//         signupForm.style.display = 'none';
//         forgotPassContainer.style.display = 'none';
//         containerAcCreated.style.display = 'none';
//         logoutForm.style.display = 'none';
//     }
// }

// // Example function to simulate login action
// function login() {
//     isLoggedIn = true;
//     toggleForms();
// }

// // Example function to simulate logout action
// function logout() {
//     isLoggedIn = false;
//     toggleForms();
// }

// // Call toggleForms() initially or whenever login status changes
// toggleForms();

    // Function to show the login popup
    document.getElementById('loginBtn').addEventListener('click', function() {
        document.getElementById('popupOverlay').style.display = 'flex';
        showLoginForm();
    });

    // Function to close the popup
    document.getElementById('closeBtn').addEventListener('click', function() {
        document.getElementById('popupOverlay').style.display = 'none';
        hideAllForms();
    });

    // Function to switch to the signup form
    document.getElementById('showSignup').addEventListener('click', function() {
        document.getElementById('loginForm').style.display = 'none';
        document.getElementById('signupForm').style.display = 'block';
    });

    // Function to switch to the login form
    document.getElementById('showLogin').addEventListener('click', function() {
        document.getElementById('signupForm').style.display = 'none';
        document.getElementById('loginForm').style.display = 'block';
        document.getElementById('forgotPassContainer').style.display = 'none';
        document.getElementById('container-ac-created').style.display = 'none';
    });

    document.getElementById('showlogin-pass').addEventListener('click', function() {
    document.getElementById('forgotPassContainer').style.display = 'none';
    document.getElementById('loginForm').style.display = 'block';
});


    document.getElementById('forget_pass').addEventListener('click', function() {
            document.getElementById('loginForm').style.display = 'none';
            document.getElementById('signupForm').style.display = 'none';
            document.getElementById('forgotPassContainer').style.display = 'block';
            document.getElementById('container-ac-created').style.display = 'none';
        });

        document.querySelector('#forgotPassContainer input[type="email"]').addEventListener('input', function() {
            var emailInput = this;
            var submitButton = document.querySelector('#forgotPassContainer button[type="submit"]');
            var emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/; // Basic email validation pattern
        
            if (emailPattern.test(emailInput.value.trim())) {
                submitButton.disabled = false;
            } else {
                submitButton.disabled = true;
            }
        });

        document.getElementById('sign_up_btn').addEventListener('click', function() {
            // Display the success message container and hide the sign-up form
            document.getElementById('signupForm').style.display = 'none';
            document.getElementById('container-ac-created').style.display = 'block';
        });
        
        document.getElementById('loginFromSuccess').addEventListener('click', function() {
            // Display the login form and hide the success message container
            document.getElementById('container-ac-created').style.display = 'none';
            document.getElementById('loginForm').style.display = 'block';
        });

   //backend code

document.getElementById('sign_up_btn').addEventListener('click', async function () {
  const fullname = document.getElementById('signupName').value;
  const email = document.getElementById('signupEmail').value;
  const phone = document.getElementById('signupNumber').value;
  const password = document.getElementById('signupPassword').value;
  const confirmPassword = document.getElementById('signupConfirmPassword').value;

  if (password !== confirmPassword) {
    alert('Passwords do not match');
    return;
  }

  console.log({ fullname, email, phone, password, confirmPassword })
  
  const response = await fetch('http://localhost:4001/api/user/signup', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({ fullname, email,phone,  password, confirmPassword })
  });

  const data = await response.json();
  if (response.ok) {
    alert('Signup successful');
    window.location.href = "login.html"; // Replace with login page URL
  } else {
    alert(data.message);
  }
});

//login 
document.getElementById('login_btn').addEventListener('click', async function () {
  const email = document.getElementById('loginEmail').value;
  const password = document.getElementById('loginPassword').value;

  const response = await fetch('http://localhost:4001/api/user/login', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({ email, password })
  });

  if (response.ok) {
    const data = await response.json();
    console.log('Token received:', data.token); // Log the received token
    localStorage.setItem('token', data.token); // Store token in local storage
    console.log('Token stored in local storage:', localStorage.getItem('token')); // Verify storage
    window.location.href = "./profile.html"; // Redirect to profile page
  } else {
    alert(data.message);
    console.error('Failed to login');
  }
});

//forgetpassword
// document.getElementById('forget_pass').addEventListener('click', function () {
// document.getElementById('forgotPassContainer').style.display = 'block';
// });

// document.getElementById('resetPasswordBtn').addEventListener('click', async function () {
// const email = document.getElementById('forgotPasswordEmail').value;
// const messageElement = document.getElementById('forgotPasswordMessage');
// if (!email) {
// messageElement.textContent = 'Please enter your email address.';
// return;
// }

// console.log('Email entered:', email);

// try {
// const response = await fetch('http://localhost:4001/api/user/forgot-password', {
//   method: 'POST',
//   headers: {
//     'Content-Type': 'application/json'
//   },
//   body: JSON.stringify({ email })
// });

// console.log('Fetch response:', response);

// const data = await response.json();
// console.log('Response data:', data);

// if (response.ok) {
//   alert('Password reset link sent to your email');
// } else {
//   alert(data.message);
// }
// } catch (error) {
// console.error('Error fetching:', error);
// alert('Failed to send password reset link. Please try again later.');
// }
// });


document.querySelector('#forgotPassContainer form').addEventListener('submit', async function (event) {
    event.preventDefault(); // Prevent default form submission

    const email = this.querySelector('input[type="email"]').value;
    const messageElement = document.getElementById('forgotPasswordMessage');

    if (!email) {
        alert('Please enter your email address.');
        return;
    }

    console.log('Email entered:', email);

    try {
        const response = await fetch('http://localhost:4001/api/user/forgot-password', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ email })
        });

        console.log('Fetch response:', response);

        const data = await response.json();
        console.log('Response data:', data);

        if (response.ok) {
            alert('Password reset link sent to your email');
            messageElement.style.display = 'block'; // Show the message
        } else {
            alert(data.message);
        }
    } catch (error) {
        console.error('Error fetching:', error);
        alert('Failed to send password reset link. Please try again later.');
    }
});





// Logout button event listener
document.getElementById('logout_btn').addEventListener('click', function () {
localStorage.removeItem('token');
window.location.href = 'login.html'; // Replace with login page URL
});

// Check if user is logged in
document.addEventListener('DOMContentLoaded', function () {
const token = localStorage.getItem('token');
if (token) {
document.getElementById('loginForm').style.display = 'none';
document.getElementById('signupForm').style.display = 'none';
document.getElementById('logout').style.display = 'block';
}
});


// Google Sign-In success handler
async function onSignIn(googleUser) {
const profile = googleUser.getBasicProfile();
const id_token = googleUser.getAuthResponse().id_token;

try {
const response = await fetch('http://localhost:4001/api/user/google', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({ token: id_token })
});

if (response.ok) {
  const data = await response.json();
  alert('Google login successful');
  // Optionally handle user data or redirect to another page
  window.location.href = "index.html"; // Redirect to index.html after successful login
} else {
  const data = await response.json();
  alert(data.message); // Display error message from backend
}
} catch (error) {
console.error('Error signing in with Google:', error);
alert('Failed to sign in with Google. Please try again later.');
}
}
});  

</script>
