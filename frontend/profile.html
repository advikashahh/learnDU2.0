<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
 


<link  rel="stylesheet" href="style/form_logo_bar.css"><link  rel="stylesheet" href="style/form_logo_bar2.css"><link  rel="stylesheet" href="style/form_logo_bar3.css">
<link  rel="stylesheet" href="style/common.css"><link  rel="stylesheet" href="style/common2.css"><link  rel="stylesheet" href="style/common3.css">

<link rel="manifest" href="/site.webmanifest">

<title>My Profile | Learn DU</title>


</head>




<!-- ////////////////navbar////////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->

<div class="navigation-bar" id="navigationBar">
    <a id="headlogo" href="index"> <div class="logo">
         <img src="img/logomain.png" alt="Logo">
     </div> </a>
     <div class="menu">
         <ul>
             <a  href="index"><li>Home</li></a>
             <a  href="about_us"><li>About Us</li></a>
            <a href="#" class="services-dropdown" > <li >Services</li></a>
            <a  href="du_study_material"><li>Resources</li></a>  
         
            
    
            
 
            <div class="dorodown-lists" >
             <a class="bs-dm" target="_blank" id="tourtravels" href="Books/buy-sell"> <li>Buy/Sell Books</li></a>
                <a class="bs-dm" target="_blank" id="tourtravels" href="accommodation/index"> <li>Accommodation</li></a>
                <a  class="bs-dm" target="_blank" id="visapplication" href="laundry/index"><li>Laundry</li></a>
                 <a class="bs-dm" id="workpermit" href="tiffin_service/index"><li>Tiffin Service</li></a>
               
                 
   </div>

 
        
          
             <a  href="contact_us"><li>Contact Us</li></a>
    
             
         
         
         </ul>
     </div>
     <div class="mobile-menu" id="mobileMenu" >
         <ul>
             <a href="index"><li class="main-menu-content">Home</li></a>
             <a  href="about_us"><li class="main-menu-content">About Us</li></a>
             <a  href="du_study_material"><li class="main-menu-content">Resources</li></a>
            <a href=""> <li class="main-menu-content">Services  </li></a>
            <a target="_blank" class="ss-dm" href="Books/buy-sell"> <li class="ss-services-menu">Buy/Sell Books →</li></a>
            <a target="_blank" class="ss-dm" href="accommodation/index"> <li class="ss-services-menu">Accommodation →</li></a>
            <a target="_blank" class="ss-dm" href="laundry/index"> <li class="ss-services-menu">Laundry →</li></a>
            <a target="_blank" class="ss-dm" href="tiffin_service/index"><li class="ss-services-menu">Tiffin Service →</li></a>
            <a href="contact_us"> <li class="main-menu-content">Contact Us</li></a>


            
     
         
         </ul>
         <div class="box">
<div class="icon"><i id="sm-icons" class="bi bi-instagram"></i></div> 

         </div>
     </div>
     <div class="hamburger-icon" id="hamburgerIcon" onclick="toggleMobileMenu()">
         <div class="l1">&#9776;</div>
     </div>
     
 </div> 





 <!-- ///////////////style//////////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->

<style>
    body {
 padding: 0;
    margin: 0;
    background-color: #f5f5f5;
    font-family: Arial, sans-serif;
}

.profile-container-main{
    width: 100vw;
    height: 100vh;
}
.profile-container {
    display: flex;
    width: 70%;
    box-shadow: 0 7px 14px rgba(0, 0, 0, 0.15);
    background-color: white;
    border-radius: 10px;
    overflow: hidden;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    flex-wrap: wrap;
    padding: 40px 0px;
    transition: .2s linear;

}
.profile-container:hover{
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
}
@media (min-width: 0px) and (max-width: 800px) {
    .profile-container{
    
flex-direction: column;
margin-top: 70px;
width: 90%;
    }
}

.profile-box {
    padding: 20px;
    flex: 1;
    
}
@media (min-width: 0px) and (max-width: 800px) {
    .profile-box{
  width: 100%;
  padding: 0;
  padding: 20px 0px 20px 0px;

    }
}

.left-box {
    border-right: 1px solid #e0e0e0;
    text-align: center;
}

.profile-image {
    width: 150px;
    height: 150px;
    border-radius: 50%;
    margin-bottom: 20px;
}

.right-box {
    padding-left: 40px;
}
@media (min-width: 0px) and (max-width: 800px) {
    .right-box {
border-top: 1px solid rgb(215, 215, 215);


    }
}

h2, h3 {
    margin: 10px 0;
    font-family: "Nunito", sans-serif;
    font-weight: 600;
}

p {
    margin: 5px 0;
    font-family: "Nunito", sans-serif;
}

ul {
    list-style-type: none;
    font-family: "Nunito", sans-serif;
    padding: 0;
}

li {
    margin: 5px 0;
    font-family: "Nunito", sans-serif;
}
.user-data-label{
    font-weight: 600;
font-size: 17px;

}
.user-data-value{
    color: rgb(127, 127, 127);
}

.button-con{
 font-display: flex;
 flex-direction: column;
 margin-top: 20px;
 margin-bottom: 40px;
}
.button_ads{
    width: 180px;
        margin-top: 10px;
  font-size: 17px;
  padding: .4em 1.7em;
  cursor: pointer;
  transform: perspective(200px) rotateX(7deg);
  color: white;
  font-weight: 600;
  border: none;
  border-radius: 5px;
  background: linear-gradient(
    0deg,
    rgb(255, 197, 88) 0%,
    orange 100%
  );
  box-shadow: rgba(154, 168, 239, 0.2) 0px 20px 10px 0px;
  will-change: transform;
  transition: all 0.3s;
  border-bottom: 2px solid rgb(163, 106, 0);
  font-family: 'Nunito', sans-serif;
}
@media (min-width: 0px) and (max-width: 800px) {
    .button_ads{
        width: 190px;
        padding: .4em 1.5em;


    }
}
.button_ads:hover {
  transform: perspective(180px) rotateX(25deg) translateY(2px);
}

.button_ads:active {
  transform: perspective(170px) rotateX(15deg) translateY(5px);
  color: orange;
}
.log_out{
background-color: rgb(255, 70, 70);
font-size: 15px;
border-radius: 5px;
padding: 7px 10px;
border: none;
color: white;
position: absolute;
bottom: 20px;
right: 20px;
width: 100px;

}
.log_out:hover{
    border: 2px solid rgb(255, 70, 70);
    background-color: white;
    color:  rgb(255, 70, 70);
    font-size: 14px;
}
@media (min-width: 0px) and (max-width: 800px) {
    .log_out{
    left: 20px;


    }
}



</style>






<body>
    <div class="profile-container-main">
    <div class="profile-container">
        <div class="profile-box left-box">
            <img src="img/e23d24f.jpeg" alt="Profile Image" class="profile-image">
            <h2 id="profile-name"></h2>
            <p><span class="user-data-label">Email:</span> <span id="profile-email" class="user-data-value"></span></p>
            <p><span class="user-data-label">Phone:</span> <span id="profile-phone" class="user-data-value"></span></p>

        </div>
        <div class="profile-box right-box">
            <h2>Welcome To Learn DU</h2>
        
            <div class="button-con">
       <button class="button_ads">My Resources</button><br>
       <button class="button_ads">My Purchases</button>
    
    </div> 
    <button id="logoutButton" class="log_out">Log Out</button>
        </div>
    </div>
</div>


<script>

     // Function to clear session data and redirect to login page
     function logout() {
        // Clear session data (example using localStorage)
        localStorage.removeItem('Token', data.token); 

        // Redirect to login page
        window.location.href = "./index.html"; 
    }

    // Attach click event listener to the logout button
    document.getElementById("logoutButton").addEventListener("click", function() {
        logout();
    });

    document.addEventListener('DOMContentLoaded', async () => {
        const token = localStorage.getItem('token'); // assuming you stored the token in local storage after login
        if (token) {
            try {
                const response = await fetch('http://localhost:4001/api/profile', {
                    method: 'GET',
                    headers: {
                        'Authorization': `Bearer ${token}`
                    }
                });
                if (response.ok) {
                    const userData = await response.json();
                    document.getElementById('profile-name').textContent = userData.name;
                    document.getElementById('profile-email').textContent = userData.email;
                    document.getElementById('profile-phone').textContent = userData.phone;
                } else {
                    console.error('Failed to fetch user data');
                }
            } catch (error) {
                console.error('Error fetching user data:', error);
            }
        } else {
            window.location.href = './index.html'; // redirect to login page if no token is found
        }
    });
</script>

</body>






<div id="footerContainer">

</div>

<script>
    // Fetch the navigation bar HTML content
    fetch('footer.html')
        .then(response => response.text())
        .then(data => {
            // Inject the HTML content into the navbarContainer div
            document.getElementById('footerContainer').innerHTML = data;
        })
        .catch(error => console.error('Error fetching navbar:', error));
</script>


<script>
    
    // JavaScript code for toggling mobile menu
    function toggleMobileMenu() {
        var mobileMenu = document.getElementById('mobileMenu');
        mobileMenu.classList.toggle('show-menu');
    }
    
    // JavaScript code to hide mobile menu when scrolling or clicking outside
    document.addEventListener("DOMContentLoaded", function() {
        var mobileMenu = document.getElementById('mobileMenu');
        var container = document.getElementById('container');
    
        window.addEventListener("scroll", function() {
            mobileMenu.classList.remove('show-menu');
        });
    
        container.addEventListener("click", function() {
            mobileMenu.classList.remove('show-menu');
        });
    
        mobileMenu.addEventListener("click", function() {
            mobileMenu.classList.remove('show-menu'); // Hide the menu when clicked
        });
    });
    document.addEventListener('DOMContentLoaded', function() {
        // Get references to the elements
        const servicesDropdown = document.querySelector('.services-dropdown');
        const dropdownMenu = document.querySelector('.dorodown-lists');
        const tourTravelsLink = document.getElementById('tourtravels');
        const visaApplicationLink = document.getElementById('visapplication');
        const workPermitLink = document.getElementById('workpermit');
    
        // Function to show the dropdown menu
        function showDropdownMenu() {
            dropdownMenu.style.display = 'flex';
        }
    
        // Function to hide the dropdown menu
        function hideDropdownMenu() {
            dropdownMenu.style.display = 'none';
        }
    
        // Event listener to toggle the visibility of the dropdown menu when "Services" link is clicked
        servicesDropdown.addEventListener('click', function(event) {
            event.preventDefault(); // Prevent the default action of the link
            event.stopPropagation(); // Prevent the click event from bubbling up
            showDropdownMenu();
        });
    
        // Event listener to hide the dropdown menu when any link inside it is clicked
        tourTravelsLink.addEventListener('click', hideDropdownMenu);
        visaApplicationLink.addEventListener('click', hideDropdownMenu);
        workPermitLink.addEventListener('click', hideDropdownMenu);
    
        // Event listener to hide the dropdown menu when the user scrolls
        window.addEventListener('scroll', hideDropdownMenu);
    
        // Event listener to hide the dropdown menu when the user clicks anywhere outside of it
        document.addEventListener('click', function(event) {
            // Check if the target of the click event is not within the dropdown menu or its parent
            if (!event.target.closest('.dorodown-lists') && !event.target.closest('.services-dropdown')) {
                hideDropdownMenu();
            }
        });
    });
    </script> 



</html>
